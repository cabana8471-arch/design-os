# Agent Directives for Design OS

Design OS is a **product planning and design tool** that helps users define their product vision, structure their data model, design their UI, and prepare export packages for implementation in a separate codebase.

> **Important**: Design OS is a planning tool, not the end product codebase. The screen designs and components generated here are meant to be exported and integrated into your actual product's codebase.

---

## Documentation Structure

This documentation is split into modular files for maintainability. Read the relevant files based on your task:

| File                            | Contents                                                             |
| ------------------------------- | -------------------------------------------------------------------- |
| `agents.md` (this file)         | Core concepts, planning flow, four pillars                           |
| `agents/command-reference.md`   | Command tables, prerequisites, step numbering, template system       |
| `agents/design-system.md`       | Design requirements, Tailwind directives, design direction           |
| `agents/section-system.md`      | File structure, view relationships, skills & design guidance         |
| `agents/shell-system.md`        | Shell relationships, shell props passthrough, utility components     |
| `agents/validation-patterns.md` | Prerequisite checks, error handling, retry logic, hookify guardrails |
| `agents/export-handoff.md`      | Export process, product context system, template state               |

---

## Understanding Design OS Context

When working in Design OS, be aware of two distinct contexts:

### 1. Design OS Application

The React application that displays and manages planning files. When modifying the Design OS UI itself:

- Files live in `src/` (components, pages, utilities)
- Uses the Design OS design system (stone palette, DM Sans, etc.)
- Provides the interface for viewing specs, screen designs, exports, etc.

### 2. Product Design (Screen Designs & Exports)

The product you're planning and designing. When creating screen designs and exports:

- Screen design components live in `src/sections/[section-id]/` and `src/shell/`
- Product definition files live in `product/`
- Exports are packaged to `product-plan/` for integration into a separate codebase
- Follow the design requirements specified in each section's spec

---

## Language Requirement

**All files generated by Design OS commands MUST be in English**, regardless of the conversation language:

- **Product specifications**: `product-overview.md`, `product-roadmap.md`, `spec.md`
- **Code files**: `types.ts`, React components, `data.json`
- **Documentation**: Comments, README files, handoff docs
- **Sample data**: Labels, descriptions, and placeholder text

**Why this matters:**

1. **Consistency** — All generated files use the same language
2. **Portability** — Exports work with any developer or coding agent
3. **Industry standard** — Technical documentation and code are written in English

**Note:** The conversation with the user can be in any language, but all _generated files_ must be in English.

---

## Getting Started — The Planning Flow

Design OS follows a structured planning sequence:

### 0. Product Interview (`/product-interview`) — REQUIRED

Gather comprehensive context about your product through a structured interview. This creates `product/product-context.md` which is **required** by all subsequent commands.

**Output:** `product/product-context.md`

**Modes:**

- Default — Full interview (12 categories, ~52 questions)
- `--minimal` — Quick start (6 critical categories, meets 50% threshold)
- `--stage=X` — Focus on specific area (vision, section, shell, data, scale, quality)
- `--audit` — Check completeness of existing context
- `--skip-validation` — Bypass existing context check (for advanced users updating context)

### 0.5. Audit Context (`/audit-context`) — RECOMMENDED

Critical analysis of `product/product-context.md` to identify issues before proceeding with implementation. Detects quality problems, inconsistencies, logic conflicts, ambiguities, and duplications.

**Output:** `product/audit-report.md`

**Workflow:**

1. Run `/audit-context` after `/product-interview`
2. Review issues in report
3. Fix issues in `product-context.md`
4. Re-run `/audit-context` until 0 HIGH issues
5. Proceed with `/product-vision`

### 1. Product Overview (`/product-vision`)

Define your product's core description, the problems it solves, and key features.
**Output:** `product/product-overview.md`

### 2. Product Roadmap (`/product-roadmap`)

Break your product into 3-5 development sections. Each section represents a self-contained area that can be designed and built independently.
**Output:** `product/product-roadmap.md`

### 3. Data Model (`/data-model`)

Define the core entities and relationships in your product. This establishes the "nouns" of your system and ensures consistency across sections.
**Output:** `product/data-model/data-model.md`

### 4. Design System (`/design-tokens`)

Choose your color palette (from Tailwind) and typography (from Google Fonts). These tokens are applied to all screen designs.
**Output:** `product/design-system/colors.json`, `product/design-system/typography.json`

### 5. Application Shell (`/design-shell`)

Design the persistent navigation and layout that wraps all sections.
**Output:** `product/shell/spec.md`, `product/design-system/design-direction.md`, `src/shell/components/`

### 6. For Each Section:

- `/shape-section` — Define the specification
- `/sample-data` — Create sample data and types
- `/design-screen` — Create screen designs
- `/screenshot-design` — Capture screenshots

### 7. Export (`/export-product`)

Generate the complete export package with all components, types, and handoff documentation.
**Output:** `product-plan/`

> **See also:** `agents/command-reference.md` for the complete command reference tables.

---

## The Four Pillars

Design OS is organized around four main areas:

1. **Product Overview** — The "what" and "why"
   - Product name and description
   - Problems and solutions
   - Key features
   - Sections/roadmap

2. **Data Model** — The "nouns" of the system
   - Core entity names and descriptions
   - Relationships between entities
   - Minimal — leaves room for implementation

3. **Design System** — The "look and feel"
   - Color palette (Tailwind colors)
   - Typography (Google Fonts)

4. **Application Shell** — The persistent chrome
   - Global navigation structure
   - User menu
   - Layout pattern

Plus **Sections** — The individual features, each with spec, data, screen designs.

---

## Quick Reference: Key Documentation

### For Command Details

See `agents/command-reference.md`:

- Files Generated Per Command (table)
- Command Prerequisites (table)
- Step Numbering Convention
- Template System & Versions

### For Design & Styling

See `agents/design-system.md`:

- Design Requirements (responsive, dark mode, props-based)
- Content Container Standard
- Tailwind CSS v4 Directives
- Import Path Aliases
- Design Direction Document

### For File Structure

See `agents/section-system.md`:

- Complete File Structure diagram
- Shell Component Categories
- Components vs. Preview Wrappers
- View Relationships
- Skills & Design Guidance

### For Shell Features

See `agents/shell-system.md`:

- Shell Relationships
- Shell Props Passthrough
- Shell Utility Components & Hooks

### For Validation & Patterns

See `agents/validation-patterns.md`:

- Standardized Prerequisite Checks
- Error Message Format
- Directory Creation Pattern
- Recovery Pattern
- Section ID Generation Rules
- Variable Naming Conventions
- Retry Pattern
- Viewport Dimensions
- Hookify Guardrails

### For Export & Context

See `agents/export-handoff.md`:

- Export & Handoff Overview
- Product Context System
- Completeness Requirements
- Template State (Boilerplate Directories)
